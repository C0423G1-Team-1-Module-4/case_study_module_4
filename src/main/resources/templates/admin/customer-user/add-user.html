<!DOCTYPE html>

<!--
 // WEBSITE: https://themefisher.com
 // TWITTER: https://twitter.com/themefisher
 // FACEBOOK: https://www.facebook.com/themefisher
 // GITHUB: https://github.com/themefisher/
-->
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="shop/layout.html :: head(${title})">
    <title></title>
    <style>
        #drop-zone {
            border: 2px dashed #ccc;
            padding: 20px;
            text-align: center;
            cursor: pointer;
        }

        #drop-zone.dragover {
            background-color: #f0f0f0;
        }

        .uploaded-images-container {
            display: flex;
            flex-wrap: nowrap;
            overflow-x: auto;
            margin-top: 10px;
        }

        .uploaded-image-container {
            margin-right: 10px;
            position: relative;
            display: inline-block;
        }

        .uploaded-image {
            max-width: 100px;
            max-height: 100px;
            margin: 5px;
        }

        #message {
            color: red;
            display: none;
        }

        img {
            max-width: 100%;
            max-height: 100%;
        }

        .image-container img {
            max-width: 100px;
            max-height: 100%;
        }

        #image-preview-container {
            display: flex;
            flex-wrap: wrap;
            width: 100px;
        }

        .preview-image {
            width: 100px;
            height: 100px;
            margin: 5px;
        }
    </style>
</head>
<body class="body-wrapper">
<header th:replace="shop/layout.html :: header"></header>
<section class="advt-post bg-gray py-5">
    <div class="container">
        <form th:action="@{/users/edit/image}" th:method="post">
            <fieldset class="border border-gray px-3 px-md-4 py-4 mb-5">
                <div class="row">
                    <div class="col-lg-12">
                        <h3>Post Your ad</h3>
                    </div>
                    <div class="col-lg-6">
                        <div class="row px-3">
                            <div class="flex h-screen h-full w-full items justify-center" style="margin-top: 16px">
                                <input style="width: 100%;height: 40px" type="file" id="upload-file" multiple
                                       accept=".jpg, .jpeg, .png" onchange="limitFiles(this, 1)">
                                <div id="image-preview-container1"></div>
                            </div>
                        </div>
                        <div class="row px-3">
                            <div class="flex h-screen h-full w-full items justify-center" style="margin-top: 16px">
                                <input style="width: 100%;height: 40px" type="file" id="upload-file1" multiple
                                       accept=".jpg, .jpeg, .png" onchange="limitFiles(this, 1)">
                                <div id="image-preview-container2"></div>
                            </div>
                        </div>
                        <div class="row px-3">
                            <div class="flex h-screen h-full w-full items justify-center" style="margin-top: 16px">
                                <input style="width: 100%;height: 40px" type="file" id="upload-file2" multiple
                                       accept=".jpg, .jpeg, .png" onchange="limitFiles(this, 1)">
                                <div id="image-preview-container3"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="row px-3">
                            <div class="flex h-screen h-full w-full items justify-center" style="margin-top: 16px">
                                <input style="width: 100%;height: 40px" type="file" id="upload-file3" multiple
                                       accept=".jpg, .jpeg, .png" onchange="limitFiles(this, 1)">
                                <div id="image-preview-container4"></div>
                            </div>
                        </div>
                        <div class="row px-3">
                            <div class="flex h-screen h-full w-full items justify-center" style="margin-top: 16px">
                                <input style="width: 100%;height: 40px" type="file" id="upload-file4" multiple
                                       accept=".jpg, .jpeg, .png" onchange="limitFiles(this, 1)">
                                <div id="image-preview-container5"></div>
                            </div>
                        </div>
                        <input name="imageLicense1" type="hidden" id="imageLicense1">
                        <input name="imageLicense2" type="hidden" id="imageLicense2">
                        <input name="image1" type="hidden" id="image1">
                        <input name="image2" type="hidden" id="image2">
                        <input name="image6" type="hidden" id="image6">
                    </div>
                </div>
            </fieldset>
            <button id="full-screen-spinner" type="submit" class="btn btn-primary mt-2"
                    onclick="clickAdd()">Post Your Ad
            </button>
        </form>
    </div>
</section>
<!--============================
=            Footer            =
=============================-->
<footer th:replace="shop/layout.html :: footer"></footer>
<div th:replace="shop/layout.html :: js"></div>
<!--
Essential Scripts
=====================================-->
<script>
    function limitFiles(input, maxFiles) {
        if (input.files.length > maxFiles) {
            alert(`Chỉ được chọn đúng ${maxFiles} tệp.`);
            input.value = ""; // Xóa tệp đã chọn nếu vượt quá giới hạn
        }
    }

    document.getElementById("upload-file").addEventListener("change", function (e) {
        const container = document.getElementById("image-preview-container1");
        container.innerHTML = "";

        const maxFiles = 1;
        const files = e.target.files;

        if (files.length !== maxFiles) {
            alert(`Bạn phải chọn đúng ${maxFiles} tệp.`);
            e.target.value = "";
            return;
        }

        for (let i = 0; i < files.length; i++) {
            const file = files[i];
            const img = document.createElement("img");
            img.src = URL.createObjectURL(file);
            img.style.width = "6rem"
            img.style.height = "6rem"
            container.appendChild(img);
        }
    });
</script>
<script>
    function limitFiles(input, maxFiles) {
        if (input.files.length > maxFiles) {
            alert(`Chỉ được chọn đúng ${maxFiles} tệp.`);
            input.value = ""; // Xóa tệp đã chọn nếu vượt quá giới hạn
        }
    }

    document.getElementById("upload-file1").addEventListener("change", function (e) {
        const container = document.getElementById("image-preview-container2");
        container.innerHTML = "";

        const maxFiles = 1;
        const files = e.target.files;

        if (files.length !== maxFiles) {
            alert(`Bạn phải chọn đúng ${maxFiles} tệp.`);
            e.target.value = "";
            return;
        }

        for (let i = 0; i < files.length; i++) {
            const file = files[i];
            const img = document.createElement("img");
            img.src = URL.createObjectURL(file);

            img.style.width = "6rem"
            img.style.height = "6rem"
            container.appendChild(img);
        }
    });
</script>
<script>
    function limitFiles(input, maxFiles) {
        if (input.files.length > maxFiles) {
            alert(`Chỉ được chọn đúng ${maxFiles} tệp.`);
            input.value = ""; // Xóa tệp đã chọn nếu vượt quá giới hạn
        }
    }

    document.getElementById("upload-file2").addEventListener("change", function (e) {
        const container = document.getElementById("image-preview-container3");
        container.innerHTML = "";

        const maxFiles = 1;
        const files = e.target.files;

        if (files.length !== maxFiles) {
            alert(`Bạn phải chọn đúng ${maxFiles} tệp.`);
            e.target.value = "";
            return;
        }

        for (let i = 0; i < files.length; i++) {
            const file = files[i];
            const img = document.createElement("img");
            img.src = URL.createObjectURL(file);

            // img.style.width < img.style.height;
            img.style.width = "6rem"
            img.style.height = "6rem"
            container.appendChild(img);
        }
    });
</script>
<script>
    function limitFiles(input, maxFiles) {
        if (input.files.length > maxFiles) {
            alert(`Chỉ được chọn đúng ${maxFiles} tệp.`);
            input.value = ""; // Xóa tệp đã chọn nếu vượt quá giới hạn
        }
    }

    document.getElementById("upload-file3").addEventListener("change", function (e) {
        const container = document.getElementById("image-preview-container4");
        container.innerHTML = "";

        const maxFiles = 1;
        const files = e.target.files;

        if (files.length !== maxFiles) {
            alert(`Bạn phải chọn đúng ${maxFiles} tệp.`);
            e.target.value = "";
            return;
        }

        for (let i = 0; i < files.length; i++) {
            const file = files[i];
            const img = document.createElement("img");
            img.src = URL.createObjectURL(file);

            img.style.width = "6rem"
            img.style.height = "6rem"
            container.appendChild(img);
        }
    });
</script>
<script>
    function limitFiles(input, maxFiles) {
        if (input.files.length > maxFiles) {
            alert(`Chỉ được chọn đúng ${maxFiles} tệp.`);
            input.value = ""; // Xóa tệp đã chọn nếu vượt quá giới hạn
        }
    }

    document.getElementById("upload-file4").addEventListener("change", function (e) {
        const container = document.getElementById("image-preview-container5");
        container.innerHTML = "";

        const maxFiles = 1;
        const files = e.target.files;

        if (files.length !== maxFiles) {
            alert(`Bạn phải chọn đúng ${maxFiles} tệp.`);
            e.target.value = "";
            return;
        }

        for (let i = 0; i < files.length; i++) {
            const file = files[i];
            const img = document.createElement("img");
            img.src = URL.createObjectURL(file);

            img.style.width = "6rem"
            img.style.height = "6rem"
            container.appendChild(img);
        }
    });
</script>
<script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-storage.js"></script>
<script type="module" src="/js/configuration-firebase-thien.js"></script>
<script type="module" src="/js/upload-file-thien.js"></script>

</body>
</html>
